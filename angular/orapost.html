<!DOCTYPE html>
<html>
<script type="text/javascript" src="/angular/js/angular.min.js"></script> 
<meta charset="utf-8"/>
<body>
<div ng-app="myApp" ng-controller="myctr"> <br>
<table border="1">
<tr><td>Application Name	</td><td><pre>{{greeting}}			  </pre></td></tr>
<tr><td>Calling Method		</td><td><pre>{{callingMethod}}		  </pre></td></tr>
<tr><td>Header Data			</td><td><pre>{{headerData|json}}	  </pre></td></tr>
<tr><td>Post Data			</td><td><pre>{{postData|json}}	  	  </pre></td></tr>
<tr><td>Request Status 		</td><td><pre>{{requestStatus}}		  </pre></td></tr>
<tr><td>Post Response		</td><td><pre>{{responseData|json}}   </pre></td></tr>
</table>
</div>
<script>
var app = angular.module('myApp', []);
app.controller('myctr', function($scope, $http) 
{

	$scope.greeting 		= "Welcome to REST Testing Application" ;
	$scope.callingMethod 	= "POST";
	$scope.requestStatus 	= "";
	$scope.uri				= "http://rws3210184.us.oracle.com:8000/webservices/rest/notes/search_note/"; 
	var authdata 			=  btoa('leaseqa1' + ':' + 'welocme');	 //+authdata,
	$scope.headerData 		= 
	{
		"Access-Control-Allow-Origin"		: "*",		
		"Access-Control-Allow-Credentials"	: "true",
		"Access-Control-Allow-Methods"		: "GET,POST",
		"Access-Control-Allow-Headers"		: "Content-Type, Depth, User-Agent, X-File-Size, X-Requested-With, If-Modified-Since, X-File-Name, Cache-Control",
		"Authorization"						: "Basic c3lzYWRtaW46c3lzYWRtaW4=",	
		"Content-Type"						: "application/json",
		"Accept"							: "application/json",			
		"Content-Language"					: "en-US"
	};
	$scope.postData			= 
	{
		"ns:SEARCH_NOTE_Input": 
		{
			"-xmlns:ns": "http://xmlns.oracle.com/apps/fnd/soaprovider/plsql/rest/OKL_NOTES_PUB/search_note/",
			"-xmlns:ns1": "http://xmlns.oracle.com/apps/fnd/soaprovider/plsql/rest/okl_notes_pub/header",
			"ns1:RESTHeader": 
			{
				"ns1:Responsibility": "OKL_SUPERUSER_EXT_LEASEQA1",
				"ns1:RespApplication": "OKL",
				"ns1:SecurityGroup": "STANDARD",
				"ns1:NLSLanguage": "AMERICAN",
				"ns1:Org_Id": "7746"
			},
			"ns:InputParameters": 
			{
				"ns:P_API_VERSION": "1.0",
				"ns:P_INIT_MSG_LIST": "T",
				"ns:P_SOURCE_OBJECT_CODE": "OKL_ASSET_RETURN_NOTE"
			}
		}
	};		
	$scope.postCall = function() 
	{			
		return $http
		({		
			method	: $scope.callingMethod,
			headers	: $scope.headerData,
			url		: $scope.uri,
			data	: $scope.postData
	    }).success(function(result) 
		{
			console.log("POST Request Successfully Executed")
			$scope.requestStatus 	= "Success";
			$scope.responseData 	= result;				
	    }).error(function(data, status, headers, config) 
		{
			$scope.requestStatus 	= "Failed";
			console.log("POST Request Failed to Executed")
	        console.log("Data		:	"+data);
	        console.log("Status		:	"+status);
	        console.log("Headers	:	"+headers);
	        console.log("Config		:	"+config);
			$scope.responseData  = config;
	    });
	};
	$scope.postCall();	
});


</script>

</body>
</html>
